<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-introduction">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GZFCYV0DXN"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GZFCYV0DXN",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Pathom 3" href="/opensearch.xml"><title data-rh="true">Getting Started | Pathom 3</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pathom3.wsscode.com/docs/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Getting Started | Pathom 3"><meta data-rh="true" name="description" content="Pathom is a Clojure/script library to model attribute relationships."><meta data-rh="true" property="og:description" content="Pathom is a Clojure/script library to model attribute relationships."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pathom3.wsscode.com/docs/"><link data-rh="true" rel="alternate" href="https://pathom3.wsscode.com/docs/" hreflang="en"><link data-rh="true" rel="alternate" href="https://pathom3.wsscode.com/docs/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://8YW0ZACTDN-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.50c9537c.css">
<link rel="preload" href="/assets/js/runtime~main.feaca457.js" as="script">
<link rel="preload" href="/assets/js/main.5057d4a7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/icon_64x64.png" alt="Pathom 3" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/icon_64x64.png" alt="Pathom 3" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Pathom 3</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://blog.wsscode.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/media">Media</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wilkerlucio/pathom3" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial">Pathom Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nouns">Nouns</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/resolvers">Using Pathom</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/indexes">How Pathom Works</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/integrations/graphql">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/tutorials/hacker-news-scraper">Tutorials</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Getting Started</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Getting Started</h1></header><p><strong>Pathom</strong> is a Clojure/script library to model attribute relationships.</p><h2 id="install">Install</h2><pre><code class="language-clojure">{:deps
 {com.wsscode/pathom3 {:mvn/version &quot;LATEST_VERSION&quot;}}}
</code></pre><admonition type="tip"><p>Latest version: <a href="https://clojars.org/com.wsscode/pathom3"><img src="https://img.shields.io/clojars/v/com.wsscode/pathom3.svg" alt="Clojars Project"></a></p></admonition><h2 id="namespace-aliases">Namespace aliases</h2><p>When you read code from the examples in this documentation they will use alias to reference
namespaces, here you can find what the aliases point to:</p><pre><code class="language-clojure">; main namespaces, you are very likely to use at least these
[com.wsscode.pathom3.connect.indexes :as pci]
[com.wsscode.pathom3.connect.operation :as pco]
[com.wsscode.pathom3.interface.eql :as p.eql]

; now some common namespaces to use
[com.wsscode.pathom3.connect.built-in.resolvers :as pbir]
[com.wsscode.pathom3.connect.built-in.plugins :as pbip]
[com.wsscode.pathom3.interface.async.eql :as p.a.eql]
[com.wsscode.pathom3.interface.smart-map :as psm]
[com.wsscode.pathom3.plugin :as p.plugin]

; now the least common used
[com.wsscode.pathom3.cache :as p.cache]
[com.wsscode.pathom3.connect.foreign :as pcf]
[com.wsscode.pathom3.connect.operation.transit :as pcot]
[com.wsscode.pathom3.connect.planner :as pcp]
[com.wsscode.pathom3.connect.runner :as pcr]
[com.wsscode.pathom3.error :as p.error]
[com.wsscode.pathom3.format.eql :as pf.eql]
[com.wsscode.pathom3.path :as p.path]
</code></pre><h2 id="general-attribute-modeling-view">General attribute modeling view</h2><p>Attribute modeling is a way to think and design information systems.</p><p>Consider the question: What&#x27;s the temperature in the city of Recife now?</p><p>Using my attribute modeler hat, I can break this description into two attributes and one
value. The demand is for a <code>:temperature</code>, and the available information is the
<code>:city</code> with the value of <code>Recife</code>. Or we can express it as a Clojure map:</p><pre><code class="language-clojure">{:city        &quot;Recife&quot;
 :temperature ?}
</code></pre><p>Note we left <code>?</code> for the unknown attributes. In a way, this map expresses the same thing
as the question we had before.</p><p>Now, to realize the <code>:temperature</code> from the <code>city</code>, we write a resolver
establishing this relationship.</p><pre><code class="language-clojure">; our mock temperatures database
(def temperatures
  {&quot;Recife&quot; 23})

(pco/defresolver temperature-from-city [{:keys [city]}]
  {:temperature (get temperatures city)})
</code></pre><p>A resolver looks like a function but with some constraints:</p><ol><li>The resolver input <strong>must</strong> be a map, so the input information is labeled.</li><li>A resolver <strong>must</strong> return a map, so the output information is labeled.</li><li>A resolver may also receive another map, containing the environment information.</li></ol><p>The next step is to create the indexes:</p><pre><code class="language-clojure">(def indexes
  (pci/register [temperature-from-city]))
</code></pre><p>Pathom uses the indexes to traverse the attribute relationships.</p><p>Now to make the original question to Pathom, we are going to use the <a href="/docs/smart-maps">Smart Map</a> interface:</p><pre><code class="language-clojure">; this creates a smart map, using our indexes, and with some initial data
(def smart-map (psm/smart-map indexes {:city &quot;Recife&quot;}))

; smart maps work as regular maps when looking for the initial data
(:city smart-map); =&gt; &quot;Recife&quot;

; but the difference comes when we ask for keys not present in the map, but reachable
; via resolvers
(:temperature smart-map); =&gt; 23
</code></pre><admonition type="important"><p>Note that in this example, we only mention the indexes and the attributes, the resolver
names get abstracted from the user and left for Pathom to figure when to call then.</p></admonition><p>Now consider a slightly different question: Is it cold in <code>Recife</code> now?</p><pre><code class="language-clojure">{:city  &quot;Recife&quot;
 :cold? ?}
</code></pre><p>To compute the <code>:cold?</code> attribute, we can write a resolver that depends on the <code>:temperature</code>
attribute:</p><pre><code class="language-clojure">(pco/defresolver cold? [{:keys [temperature]}]
  {:cold? (&lt; temperature 20)})
</code></pre><p>Update the indexes definition to also include the <code>cold?</code> resolver:</p><pre><code class="language-clojure">(def indexes
  (pci/register [temperature-from-city cold?]))
</code></pre><p>Now, back to the question: Is it cold in <code>Recife</code> now? This time we will use a different
interface, the <a href="/docs/eql">EQL</a> interface.</p><pre><code class="language-clojure">; this time we will use the EQL interface to trigger the Pathom engine
(p.eql/process
  indexes
  {:city &quot;Recife&quot;}
  [:cold?])
; =&gt; {:cold? false}
</code></pre><p>Note that our &quot;lookup code&quot; remains the same size, although we have to run more operations
now. This ability to abstract the function call chain is the primary utility you should
look for in Pathom.</p><p>In this getting started, we talked a bit about attribute modeling, how to write a few
resolvers and how to trigger the Pathom engine to fulfill attribute questions.</p><p>You can find a complete tutorial playing with weather API&#x27;s at the <a href="/docs/tutorial">Pathom Tutorial</a>
page.</p><h2 id="core-concepts">Core Concepts</h2><p>Here is a list of the main concepts in Pathom that can help you navigate the
documentation.</p><h3 id="resolver">Resolver</h3><p>Resolvers are building blocks that establish relationships between attributes. Pathom
secret sauce is the ability to traverse a graph of attribute relationships, defined by
resolvers, given some user request.</p><h3 id="environment">Environment</h3><p>Is a map containing all the necessary context required to process a request. Data for
Pathom internals uses Pathom-specific namespaced keys, and you will typically add your
own entries (database connections, etc.) such that all these data are available to your
resolvers.</p><h3 id="planner">Planner</h3><p>Given the environment, some initial data and a request, the planner is responsible for
figuring what resolvers to call, in what order.</p><h3 id="runner">Runner</h3><p>Once the plan is ready the runner executes the plan, by traversing and executing resolvers,
then responses are coming as expected and chooses the path when multiple options
shaping the results to satisfy the request. It handles errors as well as potential conflicts
are available.(e.g. multiple resolvers can handle a given request).</p><h3 id="interface">Interface</h3><p>To bundle the process together, you interact using one of the Pathom interfaces:</p><ul><li><a href="/docs/eql">EQL</a> is a syntax that allows users to express a data shape, and then Pathom
fill the requirements using the logic from resolvers.</li><li><a href="/docs/smart-maps">Smart Maps</a> is a custom map data structure, similar to a <a href="https://docs.datomic.com/on-prem/entities.html">Datomic Entity</a>, but instead
of loading from a database, realized using resolvers.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/wilkerlucio/pathom3-docs/edit/master/docs/introduction.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tutorial"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Pathom Tutorial</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#install" class="table-of-contents__link toc-highlight">Install</a></li><li><a href="#namespace-aliases" class="table-of-contents__link toc-highlight">Namespace aliases</a></li><li><a href="#general-attribute-modeling-view" class="table-of-contents__link toc-highlight">General attribute modeling view</a></li><li><a href="#core-concepts" class="table-of-contents__link toc-highlight">Core Concepts</a><ul><li><a href="#resolver" class="table-of-contents__link toc-highlight">Resolver</a></li><li><a href="#environment" class="table-of-contents__link toc-highlight">Environment</a></li><li><a href="#planner" class="table-of-contents__link toc-highlight">Planner</a></li><li><a href="#runner" class="table-of-contents__link toc-highlight">Runner</a></li><li><a href="#interface" class="table-of-contents__link toc-highlight">Interface</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Presentations</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.youtube.com/watch?v=YaHiff2vZ_o" target="_blank" rel="noopener noreferrer" class="footer__link-item">Data Navigation with Pathom 3<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=IS3i3DTUnAI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Conj 2019 - The Maximal Graph<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=yyVKf2U8YVg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Conj 2018 - Scaling Full Stack Applications<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=r3zywlNflJI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dutch Clojure Days 2018 - Clojure Graph API’s<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://clojurians.slack.com/messages/pathom/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Wilker Lucio</div></div></div></footer></div>
<script src="/assets/js/runtime~main.feaca457.js"></script>
<script src="/assets/js/main.5057d4a7.js"></script>
</body>
</html>