<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GZFCYV0DXN"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GZFCYV0DXN",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Pathom 3" href="/opensearch.xml"><title data-react-helmet="true">Dynamic Resolvers | Pathom 3</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Dynamic Resolvers | Pathom 3"><meta data-react-helmet="true" name="description" content="Dynamic resolvers feature in Pathom is currently in research/experimental stage, please"><meta data-react-helmet="true" property="og:description" content="Dynamic resolvers feature in Pathom is currently in research/experimental stage, please"><meta data-react-helmet="true" property="og:url" content="https://pathom3.wsscode.com/docs/dynamic-resolvers"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://pathom3.wsscode.com/docs/dynamic-resolvers"><link rel="stylesheet" href="/styles.4444d5c6.css">
<link rel="preload" href="/styles.488f8ab7.js" as="script">
<link rel="preload" href="/runtime~main.4b53cec1.js" as="script">
<link rel="preload" href="/main.b086dd30.js" as="script">
<link rel="preload" href="/1.4fb7aaf3.js" as="script">
<link rel="preload" href="/2.42aa7e8a.js" as="script">
<link rel="preload" href="/3.2067a2a7.js" as="script">
<link rel="preload" href="/1be78505.5d377af8.js" as="script">
<link rel="preload" href="/46.50848efd.js" as="script">
<link rel="preload" href="/935f2afb.b0430d98.js" as="script">
<link rel="preload" href="/17896441.0dd917d1.js" as="script">
<link rel="preload" href="/151607e6.c81644ea.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/icon_64x64.png" alt="Pathom 3"><strong class="navbar__title">Pathom 3</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://blog.wsscode.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a class="navbar__item navbar__link" href="/media">Media</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wilkerlucio/pathom3" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/icon_64x64.png" alt="Pathom 3"><strong class="navbar__title">Pathom 3</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://blog.wsscode.com" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/media">Media</a></li><li class="menu__list-item"><a href="https://github.com/wilkerlucio/pathom3" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorial">Pathom Tutorial</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Using Pathom</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/resolvers">Resolvers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/built-in-resolvers">Built-in Resolvers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/smart-maps">Smart Maps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/eql">EQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/environment">Environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cache">Cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/placeholders">Placeholders</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mutations">Mutations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/error-handling">Error Handling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugins">Plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/built-in-plugins">Built-in Plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/async">Async</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/debugging">Debugging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/foreign">Foreign Environments</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/dynamic-resolvers">Dynamic Resolvers</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">How Pathom Works</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/indexes">Indexes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/planner">Planner</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/shape-descriptor">Shape Descriptor</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Integrations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/integrations/graphql">GraphQL</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/hacker-news-scraper">Hacker News Scraper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/serverless-pathom-gcf">Serverless Pathom with GCF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/babashka">Scripting with Babashka</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/graphql-integration">GraphQL Integration</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Dynamic Resolvers</h1></header><div class="markdown"><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</h5></div><div class="admonition-content"><p>Dynamic resolvers feature in Pathom is currently in research/experimental stage, please
avoid relying on this feature for critical parts of your system until there is time
to build confidence in it.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="what-are-dynamic-resolvers"></a>What are dynamic resolvers?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-are-dynamic-resolvers" title="Direct link to heading">#</a></h2><p>Dynamic resolvers is a feature of Pathom that enables the definition of remote complex
sources of information.</p><p>Dynamic resolvers are used for:</p><ul><li><a href="/docs/foreign">Integrate a Pathom instance with another Pathom instance</a></li><li><a href="https://github.com/wilkerlucio/pathom3-graphql" target="_blank" rel="noopener noreferrer">Integrate Pathom with GraphQL servers</a></li><li><a href="https://github.com/wilkerlucio/pathom3-datomic" target="_blank" rel="noopener noreferrer">Integrate Pathom with Datomic</a></li></ul><div class="admonition admonition-important alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</h5></div><div class="admonition-content"><p>Dynamic resolvers are an advanced feature of Pathom, this page describes the motivations
and how it works, but for most users you can take full advantage of dynamic resolvers
using driver implementations like the ones linked before, without understand the
implementation details.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="what-dynamic-resolvers-can-do"></a>What dynamic resolvers can do?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-dynamic-resolvers-can-do" title="Direct link to heading">#</a></h2><p>To understand the problem dynamic resolvers solve, let&#x27;s first go through a manual
process call a remote Pathom service.</p><p>Here is the code for the remote service:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(ns com.wsscode.pathom3.docs.demos.core.dynamic-resolvers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (:require</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [com.wsscode.pathom3.connect.built-in.resolvers :as pbir]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [com.wsscode.pathom3.connect.foreign :as pcf]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [com.wsscode.pathom3.connect.indexes :as pci]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [com.wsscode.pathom3.connect.operation :as pco]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [com.wsscode.pathom3.connect.operation.transit :as pcot]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [com.wsscode.pathom3.connect.planner :as pcp]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [com.wsscode.pathom3.interface.eql :as p.eql]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [com.wsscode.transito :as transito]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [org.httpkit.client :as http]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [org.httpkit.server :as server]))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(defonce servers* (atom {}))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(defn make-server [port env]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (if-let [s (get @servers* port)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    (s))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (let [request (p.eql/boundary-interface env)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        handler (fn [{:keys [body]}]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  (let [req (transito/read-str (slurp body)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                              {:handlers pcot/read-handlers})]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    {:status 200</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                     :body   (transito/write-str</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                               (request req)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                               {:handlers pcot/write-handlers})}))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        server  (server/run-server handler</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  {:port port})]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    (swap! servers* assoc port server)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    server))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(defn http-req [port req]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (-&gt; @(http/request</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         {:url    (str &quot;http://localhost:&quot; port)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          :method :post</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          :body   (transito/write-str req {:handlers pcot/write-handlers})})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :body</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      slurp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      (transito/read-str {:handlers pcot/read-handlers})))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(defn http-interface [port env]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (make-server port env)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  #(http-req port %))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def users-data</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {1 {:user/id    1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :user/name  &quot;Christop Rippin&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :company/id 1}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   2 {:user/id    2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :user/name  &quot;Miss Annabell Kessler&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :company/id 1}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   3 {:user/id    3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :user/name  &quot;Demarco Padberg&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :company/id 1}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   4 {:user/id    4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :user/name  &quot;Daren Wolff Jr.&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :company/id 1}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   5 {:user/id    5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :user/name  &quot;Carlo Schmitt&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :company/id 2}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   6 {:user/id    6</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :user/name  &quot;Meda Hegmann&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :company/id 2}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   7 {:user/id    7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :user/name  &quot;Onie Schimmel&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :company/id 3}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   8 {:user/id    8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :user/name  &quot;Mayra Raynor&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :company/id 3}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   9 {:user/id    9</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :user/name  &quot;Bobbie Grant&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :company/id 3}})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def company-data</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {1 {:company/id   1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :company/name &quot;Gladys King Inc&quot;}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   2 {:company/id   2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :company/name &quot;Funk-Stamm&quot;}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   3 {:company/id   3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :company/name &quot;Carter, Harber and Jacobi&quot;}})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(pco/defresolver all-users []</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {::pco/output</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   [{:user/all</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     [:user/id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :user/name</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :company/id]}]}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {:user/all</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   (vec (vals users-data))})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(pco/defresolver user-by-id [{:user/keys [id]}]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {::pco/output</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   [:user/name</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    :company/id]}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (get users-data id))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(pco/defresolver company-by-id [{:company/keys [id]}]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {::pco/output</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   [:company/name]}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (get company-data id))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def env</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (-&gt; (pci/register</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [all-users</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         user-by-id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         company-by-id])</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      (pcp/with-plan-cache (atom {}))))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; this function will take a request and run though HTTP</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def request</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (http-interface 8087 env))</span></div></div></div></div></div><p>Now let&#x27;s consider we have a different server, and we want to consume and extend
the user data to add the <code>:user/ip</code> of each user.</p><p>In this case we are going get the information writing resolvers to forward some
queries to our previous server.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def ips</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {1 &quot;82949-5679&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   2 &quot;39359-0412&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   3 &quot;40703-7676&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   4 &quot;85822-1129&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   5 &quot;03074-6343&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   6 &quot;09986-9393&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   7 &quot;74750-0040&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   8 &quot;82239&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   9 &quot;81444-2468&quot;})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(pco/defresolver remote-users</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;Forward user list request to remote server&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  []</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {::pco/output</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   [{:user/all</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     [:user/id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :user/name</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :company/id]}]}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (request</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [{:user/all</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      [:user/id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       :user/name</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       :company/id]}]))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(pco/defresolver remote-company</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;Forward company data request to remote server&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [{:keys [company/id]}]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {::pco/output</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   [:company/name]}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (request</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {:pathom/entity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     {:company/id id}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     :pathom/eql</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     [:company/name]}))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def client-env</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (-&gt; (pci/register</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [remote-users</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         remote-company</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         (pbir/static-attribute-map-resolver</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           :user/id :user/ip ips)])</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      (pcp/with-plan-cache (atom {}))))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def client-request</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (p.eql/boundary-interface client-env))</span></div></div></div></div></div><p>With this setup we can run the following query combining the sources:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(client-request</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [{:user/all</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [:user/name</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     :user/ip</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     :company/name]}])</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; {:user/all [{:user/name &quot;Onie Schimmel&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :user/ip &quot;74750-0040&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :company/name &quot;Carter, Harber and Jacobi&quot;}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;             {:user/name &quot;Christop Rippin&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :user/ip &quot;82949-5679&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :company/name &quot;Gladys King Inc&quot;}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;             {:user/name &quot;Daren Wolff Jr.&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :user/ip &quot;85822-1129&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :company/name &quot;Gladys King Inc&quot;}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;             {:user/name &quot;Meda Hegmann&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :user/ip &quot;09986-9393&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :company/name &quot;Funk-Stamm&quot;}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;             {:user/name &quot;Demarco Padberg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :user/ip &quot;40703-7676&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :company/name &quot;Gladys King Inc&quot;}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;             {:user/name &quot;Miss Annabell Kessler&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :user/ip &quot;39359-0412&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :company/name &quot;Gladys King Inc&quot;}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;             {:user/name &quot;Bobbie Grant&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :user/ip &quot;81444-2468&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :company/name &quot;Carter, Harber and Jacobi&quot;}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;             {:user/name &quot;Carlo Schmitt&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :user/ip &quot;03074-6343&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :company/name &quot;Funk-Stamm&quot;}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;             {:user/name &quot;Mayra Raynor&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :user/ip &quot;82239&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;              :company/name &quot;Carter, Harber and Jacobi&quot;}]}</span></div></div></div></div></div><p>It works! But there are several inefficiencies in this process. For start let&#x27;s look
at the trace graph from this query:</p><p><img alt="Trace manual" src="/assets/images/trace-manual-9dba460673930da935470f28dc8e20ed.png"></p><p>The trace show us that to complete this request, it called the remote server four times.
One for the users, plus one per company (given we have 3 different companies).</p><p>Some key points:</p><ul><li>We have to manually integrate each resolver, which means every change on the server might require changes on the clients</li><li>Excessive round trips, which adds significant overhead</li></ul><p>Now try to imagine how this would scale, with hundreds of resolvers and maybe multiple
services.</p><p>That&#x27;s were dynamic resolvers come in. Dynamic resolvers can leverage the planning
algorithms of Pathom to calculate a request to an external service. When we think
about Pathom integrating with Pathom, this translates as having the external index,
but instead of processing it locally, its filtered and send to a remote service.</p><p>Let&#x27;s redo our client code, but this time using the foreign Pathom feature, which
provides tools to integrate a Pathom system with another:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def ips</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {1 &quot;82949-5679&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   2 &quot;39359-0412&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   3 &quot;40703-7676&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   4 &quot;85822-1129&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   5 &quot;03074-6343&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   6 &quot;09986-9393&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   7 &quot;74750-0040&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   8 &quot;82239&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   9 &quot;81444-2468&quot;})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def client-env</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (-&gt; (pci/register</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [; we use foreign-register which takes a function with a request, like the</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         ; one we used to make the manual requests internally</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         (pcf/foreign-register request)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         (pbir/static-attribute-map-resolver</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           :user/id :user/ip ips)])</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      (pcp/with-plan-cache (atom {}))))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def client-request</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (p.eql/boundary-interface client-env))</span></div></div></div></div></div><p>Now let&#x27;s run the same query and check the trace:</p><p><img alt="Trace foreign" src="/assets/images/trace-foreign-a250f221fdee2ee37c5dffd516200a7d.png"></p><p>Note this time there was only a single request sent to the remote server. To handle
this Pathom is taking the query and the remote server in consideration to find the
optimal query to request, reducing the round trips.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="how-dynamic-resolvers-work"></a>How dynamic resolvers work<a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-dynamic-resolvers-work" title="Direct link to heading">#</a></h2><p>Dynamic resolvers have two main parts.</p><p>The first is the <code>dynamic resolver</code> itself, it&#x27;s like a normal resolver, but with
<code>::pco/dynamic-resolver? true</code>. One difference from static resolvers, is that dynamic resolvers
will also include a <code>foreign ast</code>. This AST describes the request for the dynamic
resolver to use.</p><p>The second part are <code>auxiliar resolvers</code>. Those resolvers don&#x27;t have an implementation,
they are used to calculate the sub-query to send to the dynamic resolver.</p><p>We can make an adaptation of our previous manual example to implement it using dynamic
resolvers:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def remote-dynamic-resolvers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [; 1 - the main resolver</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   (pco/resolver &#x27;remote-dynamic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     {::pco/dynamic-resolver? true}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     (fn [env input]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       (request</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         {:pathom/ast    (-&gt; env ::pcp/node ::pcp/foreign-ast)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          :pathom/entity input})))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ; 2 - the auxiliary resolvers, note they reference the main one</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   (pco/resolver &#x27;remote-user-by-id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     {::pco/input        [:user/id]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ::pco/output       [:user/name :company/id]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ::pco/dynamic-name &#x27;remote-dynamic})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   (pco/resolver &#x27;remote-company-by-id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     {::pco/input        [:company/id]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ::pco/output       [:company/name]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ::pco/dynamic-name &#x27;remote-dynamic})])</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def client-env2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (-&gt; (pci/register</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [remote-dynamic-resolvers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         (pbir/static-attribute-map-resolver</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           :user/id :user/ip ips)])</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      (pcp/with-plan-cache (atom {}))))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def client-request2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (p.eql/boundary-interface client-env2))</span></div></div></div></div></div><p>We did a little change, we are going to get information from a single users, so it&#x27;s simpler
to inspect:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(client-request2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {:pathom/entity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   {:user/id 1}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   :pathom/eql</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   [:user/name</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    :user/ip</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    :company/name]})</span></div></div></div></div></div><p>In the following component you can see the final plan, and the steps to get to it.</p><div class="pathom-plan-view"><div class="loading-container">Loading viz data...</div></div><p>Try going back to the <code>=== Optimize ===</code> path, where you will be able to see three
nodes for <code>remote-dynamic</code>.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Use the combobox on the left to switch between displaying the node resolver name
and the node id.</p></div></div><p>The merge at the step <code>Merge chained same dynamic resolvers.</code> is one interesting to note.</p><p>In this case the first node will get the <code>:company/id</code> from the <code>:user/id</code>, the second
will use the <code>:company/id</code> to fetch the <code>:company/name</code>.</p><p>In this situation, Pathom understands that this dynamic source already know about
the middle transitions, so we can remove the middle parts. This results in an end
node that will have <code>:user/id</code> as input and <code>:company/name</code> as the output, skipping
the <code>:company/id</code> fetch part.</p><p>A different kind of merging happens at the step <code>Merging sibling resolver calls to resolver remote-dynamic</code>.</p><p>This time is different, it&#x27;s a sibling relationship merge. In this case Pathom merges
the foreign ast of the nodes, combining then in a single request.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Click on the nodes in the graph to see their data details, you can follow how they
change at each step of the graph definition.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="other-data-sources"></a>Other data sources<a aria-hidden="true" tabindex="-1" class="hash-link" href="#other-data-sources" title="Direct link to heading">#</a></h2><p>The previous example demonstrates how Pathom uses dynamic resolvers to combine request
demands of a foreign source.</p><p>One important thing to note is that the dynamic resolver idea is not be strict to Pathom
usages. Instead, you can think of a generic solution for sources that could support
this kind of request, or something adaptive.</p><p>The simplest example that supports this kind of shape query is GraphQL.</p><p>We can also use a shape like this to translate to other formats like SQL. The
Walkable library is a good example on how to translate a shape request into
something that&#x27;s not native adaptive to it, like SQL.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="graphql"></a>GraphQL<a aria-hidden="true" tabindex="-1" class="hash-link" href="#graphql" title="Direct link to heading">#</a></h3><p>The library <a href="https://github.com/wilkerlucio/pathom3-graphql" target="_blank" rel="noopener noreferrer">Pathom 3 GraphQL</a> has an implementation to incorporate GraphQL
data sources into the Pathom system. Learn more at the <a href="/docs/tutorials/graphql-integration">GraphQL tutorial</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/wilkerlucio/pathom3-docs/edit/master/docs/dynamic-resolvers.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/foreign"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Foreign Environments</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/indexes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Indexes Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-are-dynamic-resolvers" class="table-of-contents__link">What are dynamic resolvers?</a></li><li><a href="#what-dynamic-resolvers-can-do" class="table-of-contents__link">What dynamic resolvers can do?</a></li><li><a href="#how-dynamic-resolvers-work" class="table-of-contents__link">How dynamic resolvers work</a></li><li><a href="#other-data-sources" class="table-of-contents__link">Other data sources</a><ul><li><a href="#graphql" class="table-of-contents__link">GraphQL</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Presentations</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.youtube.com/watch?v=YaHiff2vZ_o" target="_blank" rel="noopener noreferrer" class="footer__link-item">Data Navigation with Pathom 3</a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=IS3i3DTUnAI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Conj 2019 - The Maximal Graph</a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=yyVKf2U8YVg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Conj 2018 - Scaling Full Stack Applications</a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=r3zywlNflJI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dutch Clojure Days 2018 - Clojure Graph APIâ€™s</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://clojurians.slack.com/messages/pathom/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2022 Wilker Lucio</div></div></div></footer></div>
<script src="/styles.488f8ab7.js"></script>
<script src="/runtime~main.4b53cec1.js"></script>
<script src="/main.b086dd30.js"></script>
<script src="/1.4fb7aaf3.js"></script>
<script src="/2.42aa7e8a.js"></script>
<script src="/3.2067a2a7.js"></script>
<script src="/1be78505.5d377af8.js"></script>
<script src="/46.50848efd.js"></script>
<script src="/935f2afb.b0430d98.js"></script>
<script src="/17896441.0dd917d1.js"></script>
<script src="/151607e6.c81644ea.js"></script>
</body>
</html>