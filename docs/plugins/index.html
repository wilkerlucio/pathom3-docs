<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-plugins" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Plugins | Pathom 3</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pathom3.wsscode.com/docs/plugins"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Plugins | Pathom 3"><meta data-rh="true" name="description" content="Plugins provide a way to extend Pathom behavior. This page explains how Pathom plugins"><meta data-rh="true" property="og:description" content="Plugins provide a way to extend Pathom behavior. This page explains how Pathom plugins"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pathom3.wsscode.com/docs/plugins"><link data-rh="true" rel="alternate" href="https://pathom3.wsscode.com/docs/plugins" hreflang="en"><link data-rh="true" rel="alternate" href="https://pathom3.wsscode.com/docs/plugins" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://8YW0ZACTDN-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GZFCYV0DXN"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GZFCYV0DXN",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Pathom 3" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.5e9cce91.css">
<link rel="preload" href="/assets/js/runtime~main.7be6ae2a.js" as="script">
<link rel="preload" href="/assets/js/main.670c6fc5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/icon_64x64.png" alt="Pathom 3" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/icon_64x64.png" alt="Pathom 3" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Pathom 3</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://blog.wsscode.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/media">Media</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wilkerlucio/pathom3" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial">Pathom Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nouns">Nouns</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/resolvers">Using Pathom</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/resolvers">Resolvers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/built-in-resolvers">Built-in Resolvers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/smart-maps">Smart Maps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/eql">EQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/environment">Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cache">Cache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/placeholders">Placeholders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mutations">Mutations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/error-handling">Error Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/plugins">Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/built-in-plugins">Built-in Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/async">Async</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/debugging">Debugging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/foreign">Foreign Environments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamic-resolvers">Dynamic Resolvers</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/indexes">How Pathom Works</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/integrations/graphql">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/tutorials/hacker-news-scraper">Tutorials</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Using Pathom</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Plugins</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Plugins</h1></header><p>Plugins provide a way to extend Pathom behavior. This page explains how Pathom plugins
work and how you can write your extensions.</p><h2 id="the-wrapping-model-of-plugins">The wrapping model of plugins</h2><p>Pathom extensions work by <code>wrapping</code> code points in Pathom. This means you can code
around the extended points in Pathom.</p><p>Each extension point has an identifier keyword.</p><p>Let&#x27;s take for example the <code>:com.wsscode.pathom3.format.eql/wrap-map-select-entry</code>
extension. This adds a hook to the result masking operation, which occurs at the
end of <code>p.eql/process</code> to filter out the results according to the query.</p><admonition type="note"><p>It&#x27;s a Pathom convention to prefix all plugin wrapping attributes with <code>wrap-</code>.</p></admonition><p>This hook, in specific, can control how the value is placed at the resulting map.</p><p>Let&#x27;s use this hook to make an extension that protects certain attributes from getting
in the output map:</p><pre><code class="language-clojure">(ns com.wsscode.pathom3.docs.demos.core.plugins
  (:require [com.wsscode.misc.coll :as coll]
            [com.wsscode.pathom3.connect.built-in.resolvers :as pbir]
            [com.wsscode.pathom3.connect.indexes :as pci]
            [com.wsscode.pathom3.interface.eql :as p.eql]
            [com.wsscode.pathom3.plugin :as p.plugin]))

(def protected-attributes
  #{:user/password})

; define the extension wrapper fn
(defn protect-attributes-wrapper [mse]
  (fn [env source {:keys [key] :as ast}]
    (if (and (contains? source key)
             (contains? protected-attributes key))
      ; the output of this extension must be a map entry or nil
      ; a vector with two elements would also work, but creating a map entry is
      ; more efficient
      (coll/make-map-entry key ::protected-value)
      (mse env source ast))))

; create the plugin
(p.plugin/defplugin protect-attributes-plugin
  {:com.wsscode.pathom3.format.eql/wrap-map-select-entry
   protect-attributes-wrapper})

(def users
  {1 {:user/id       1
      :user/name     &quot;User Name&quot;
      :user/password &quot;12345&quot;}})

(def env
  (-&gt; (p.plugin/register protect-attributes-plugin)
      (pci/register [(pbir/static-table-resolver :user/id users)])))

(p.eql/process env
  &#x27;[{[:user/id 1]
     [:user/name :user/password]}])
; =&gt; {[:user/id 1]
;     {:user/name     &quot;User Name&quot;,
;      :user/password ::protected-value}}
</code></pre><admonition type="important"><p>The data from those attributes may still leak in the meta for stats, to make
it really secure you need to prevent regular users from seeing the stats.</p></admonition><p>Now let&#x27;s talk in more detail about the things we used in this example.</p><h3 id="define-the-wrapper-fn">Define the wrapper fn</h3><p>A more generic way to think about wrapper extensions is with the following structure:</p><pre><code class="language-clojure">(defn wrapper-fn [original-fn]
  ; the number of args in the internal-impl depends on which function the plugin is wrapping
  (fn internal-impl [args]
    ; here we are wrapping the original fn, we can both alter its arguments or the return
    ; of it, you can think of the code before the original-fn as the ENTER part, and
    ; the code after (possibly modifying the output) as the LEAVE part.
    (original-fn args)))
</code></pre><h3 id="define-the-plugin">Define the plugin</h3><p>Then, a plugin consists of one or more of those wrapping functions. Any map can be a
plugin, to make it a plugin, you must add the key <code>::p.plugin/id</code> with a symbol to
identify this plugin. Then each other key is an extension wrapper.</p><pre><code class="language-clojure">; using defplugin it defines the var and adds the id to the map
(p.plugin/defplugin protect-attributes-plugin
  {:com.wsscode.pathom3.format.eql/wrap-map-select-entry
   my-wrapper})

; this is how to do the same thing without the macro:
(def protect-attributes-plugin
  {::p.plugin/id
   `protect-attributes-plugin

   :com.wsscode.pathom3.format.eql/wrap-map-select-entry
   my-wrapper})
</code></pre><p>The latter form is interesting when you are generating a plugin programmatically.</p><p>For example, we could make our plugin to protect attributes more configurable by using
making a function that returns the plugin:</p><pre><code class="language-clojure">(defn protect-attributes-plugin [protected-attributes]
  {::p.plugin/id
   `protect-attributes-plugin

   :com.wsscode.pathom3.format.eql/wrap-map-select-entry
   (fn [mst]
     (fn [env source {:keys [key] :as ast}]
       (if (and (contains? source key)
                (contains? protected-attributes key))
         ; the output of this extension must be a map entry or nil
         ; a vector with two elements would also work, but creating a map entry is
         ; more efficient
         (coll/make-map-entry key ::protected-value)
         (mst env source ast))))})

(def env
  ; create plugin to protect specific attributes and add it
  (-&gt; (p.plugin/register (protect-attributes-plugin #{:user/password}))
      (pci/register [(pbir/static-table-resolver :user/id users)])))
</code></pre><h2 id="adding-plugins">Adding plugins</h2><p>To use a plugin, you must add it to the environment using the <code>p.plugin/register</code> function.</p><p>This function works similar to <code>pci/register</code> and also accepts vectors
of plugins.</p><p>In the case of plugins, there is also <code>p.plugin/register-before</code> and
<code>p.plugin/register-after</code>. Which gives you more control over the plugin execution order.</p><p>In the next section, we will talk more about plugin order.</p><h3 id="plugin-order">Plugin order</h3><p>To understand the order in which plugins execute, it helps to keep the following image
in your head:</p><div class="pathom-diagram"><p>  <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHZlcnNpb249IjEuMSIgeG1sbnM6eGw9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9Ijk0NCAzODggMzcyIDQ2NSIgd2lkdGg9IjM3MiIgaGVpZ2h0PSI0NjUiPgogIDxkZWZzPgogICAgPGZvbnQtZmFjZSBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIHBhbm9zZS0xPSIyIDAgOCAzIDAgMCAwIDkgMCA0IiB1bml0cy1wZXItZW09IjEwMDAiIHVuZGVybGluZS1wb3NpdGlvbj0iLTEwMCIgdW5kZXJsaW5lLXRoaWNrbmVzcz0iNTAiIHNsb3BlPSIwIiB4LWhlaWdodD0iNTE3IiBjYXAtaGVpZ2h0PSI3MTQiIGFzY2VudD0iOTc1LjAwNjEiIGRlc2NlbnQ9Ii0yMTYuOTk1MjQiIGZvbnQtd2VpZ2h0PSI3MDAiPgogICAgICA8Zm9udC1mYWNlLXNyYz4KICAgICAgICA8Zm9udC1mYWNlLW5hbWUgbmFtZT0iSGVsdmV0aWNhTmV1ZS1Cb2xkIi8+CiAgICAgIDwvZm9udC1mYWNlLXNyYz4KICAgIDwvZm9udC1mYWNlPgogICAgPGZvbnQtZmFjZSBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIHBhbm9zZS0xPSIyIDAgNSAzIDAgMCAwIDIgMCA0IiB1bml0cy1wZXItZW09IjEwMDAiIHVuZGVybGluZS1wb3NpdGlvbj0iLTEwMCIgdW5kZXJsaW5lLXRoaWNrbmVzcz0iNTAiIHNsb3BlPSIwIiB4LWhlaWdodD0iNTE3IiBjYXAtaGVpZ2h0PSI3MTQiIGFzY2VudD0iOTUxLjk5NTgiIGRlc2NlbnQ9Ii0yMTIuOTk3NDQiIGZvbnQtd2VpZ2h0PSI0MDAiPgogICAgICA8Zm9udC1mYWNlLXNyYz4KICAgICAgICA8Zm9udC1mYWNlLW5hbWUgbmFtZT0iSGVsdmV0aWNhTmV1ZSIvPgogICAgICA8L2ZvbnQtZmFjZS1zcmM+CiAgICA8L2ZvbnQtZmFjZT4KICAgIDxtYXJrZXIgb3JpZW50PSJhdXRvIiBvdmVyZmxvdz0idmlzaWJsZSIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIiBpZD0iRmlsbGVkQXJyb3dfTWFya2VyIiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHZpZXdCb3g9Ii0xIC00IDEwIDgiIG1hcmtlcldpZHRoPSIxMCIgbWFya2VySGVpZ2h0PSI4IiBjb2xvcj0id2hpdGUiPgogICAgICA8Zz4KICAgICAgICA8cGF0aCBkPSJNIDggMCBMIDAgLTMgTCAwIDMgWiIgZmlsbD0iY3VycmVudENvbG9yIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgIDwvbWFya2VyPgogIDwvZGVmcz4KICA8bWV0YWRhdGE+IFByb2R1Y2VkIGJ5IE9tbmlHcmFmZmxlIDcuMTguMVxuMjAyMC0xMi0yNyAxODowMjo0OSArMDAwMDwvbWV0YWRhdGE+CiAgPGcgaWQ9IlBsdWdpbl9PcmRlciIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIHN0cm9rZS1vcGFjaXR5PSIxIj4KICAgIDx0aXRsZT5QbHVnaW4gT3JkZXI8L3RpdGxlPgogICAgPGcgaWQ9IlBsdWdpbl9PcmRlcl9MYXllcl8xIj4KICAgICAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPgogICAgICA8ZyBpZD0iR3JhcGhpY18yIj4KICAgICAgICA8cmVjdCB4PSIxMDQwIiB5PSI0OTUuNTI3OTUiIHdpZHRoPSIyNzUiIGhlaWdodD0iMzYuODkxNzgiIGZpbGw9IiM5OTk1MGEiLz4KICAgICAgICA8cmVjdCB4PSIxMDQwIiB5PSI0OTUuNTI3OTUiIHdpZHRoPSIyNzUiIGhlaWdodD0iMzYuODkxNzgiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfNSI+CiAgICAgICAgPHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTQ1LjE4IDUwNC4yNDE4KSIgZmlsbD0id2hpdGUiPgogICAgICAgICAgPHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjcwMCIgZmlsbD0id2hpdGUiIHg9IjAiIHk9IjE2Ij5QbHVnaW4gQTwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzYiPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNzIuNSA1MDQuNzQ5ODQpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNDAwIiBmaWxsPSJibGFjayIgeD0iNzEwNTQyN2UtMTkiIHk9IjE1Ij5FbnRlcjwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzciPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMzguODUzIDUwNC43NDk4NCkiIGZpbGw9ImJsYWNrIj4KICAgICAgICAgIDx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZpbGw9ImJsYWNrIiB4PSIwIiB5PSIxNSI+TGVhdmU8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY184Ij4KICAgICAgICA8cmVjdCB4PSIxMDU3LjUiIHk9IjM4OSIgd2lkdGg9IjY3LjUiIGhlaWdodD0iNjIiIGZpbGw9IiNjMGMwZmYiLz4KICAgICAgICA8cmVjdCB4PSIxMDU3LjUiIHk9IjM4OSIgd2lkdGg9IjY3LjUiIGhlaWdodD0iNjIiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgICAgPHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA2Mi41IDQxMC43NzYpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNDAwIiBmaWxsPSJibGFjayIgeD0iMTIuNTM0IiB5PSIxNSI+QXJnczwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJMaW5lXzkiPgogICAgICAgIDxsaW5lIHgxPSIxMDkxLjI3MTgiIHkxPSI0NTEiIHgyPSIxMDkxLjMwMDUiIHkyPSI0OTEuODYzIiBtYXJrZXItZW5kPSJ1cmwoI0ZpbGxlZEFycm93X01hcmtlcikiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTAiPgogICAgICAgIDxyZWN0IHg9IjEwNDAiIHk9IjU1My41NTQxIiB3aWR0aD0iMjc1IiBoZWlnaHQ9IjM2Ljg5MTc4IiBmaWxsPSIjOTk5NTBhIi8+CiAgICAgICAgPHJlY3QgeD0iMTA0MCIgeT0iNTUzLjU1NDEiIHdpZHRoPSIyNzUiIGhlaWdodD0iMzYuODkxNzgiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTEiPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0NS4wMjggNTYyLjI2Nzk0KSIgZmlsbD0id2hpdGUiPgogICAgICAgICAgPHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjcwMCIgZmlsbD0id2hpdGUiIHg9IjAiIHk9IjE2Ij5QbHVnaW4gQjwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzEyIj4KICAgICAgICA8dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDcyLjUgNTYyLjc3NikiIGZpbGw9ImJsYWNrIj4KICAgICAgICAgIDx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZpbGw9ImJsYWNrIiB4PSI3MTA1NDI3ZS0xOSIgeT0iMTUiPkVudGVyPC90c3Bhbj4KICAgICAgICA8L3RleHQ+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTMiPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMzguODUzIDU2Mi43NzYpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNDAwIiBmaWxsPSJibGFjayIgeD0iMCIgeT0iMTUiPkxlYXZlPC90c3Bhbj4KICAgICAgICA8L3RleHQ+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTQiPgogICAgICAgIDxyZWN0IHg9IjEwNDAiIHk9IjYxMS41ODAzIiB3aWR0aD0iMjc1IiBoZWlnaHQ9IjM2Ljg5MTc4IiBmaWxsPSIjOTk5NTBhIi8+CiAgICAgICAgPHJlY3QgeD0iMTA0MCIgeT0iNjExLjU4MDMiIHdpZHRoPSIyNzUiIGhlaWdodD0iMzYuODkxNzgiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTUiPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0NC43MzIgNjIwLjI5NDEpIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSJ3aGl0ZSIgeD0iMTkxODQ2NTRlLTIwIiB5PSIxNiI+UGx1Z2luIEM8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNiI+CiAgICAgICAgPHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA3Mi41IDYyMC44MDIxNikiIGZpbGw9ImJsYWNrIj4KICAgICAgICAgIDx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZpbGw9ImJsYWNrIiB4PSI3MTA1NDI3ZS0xOSIgeT0iMTUiPkVudGVyPC90c3Bhbj4KICAgICAgICA8L3RleHQ+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTciPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMzguODUzIDYyMC44MDIxNikiIGZpbGw9ImJsYWNrIj4KICAgICAgICAgIDx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZpbGw9ImJsYWNrIiB4PSIwIiB5PSIxNSI+TGVhdmU8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xOCI+CiAgICAgICAgPHJlY3QgeD0iMTA0MCIgeT0iODA5LjA1MjMiIHdpZHRoPSIyNzUiIGhlaWdodD0iNDIuOTc0IiBmaWxsPSIjODBmZjgwIi8+CiAgICAgICAgPHJlY3QgeD0iMTA0MCIgeT0iODA5LjA1MjMiIHdpZHRoPSIyNzUiIGhlaWdodD0iNDIuOTc0IiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNDUgODIxLjMxNTMpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNDAwIiBmaWxsPSJibGFjayIgeD0iMTAxLjM4IiB5PSIxNSI+RnVuY3Rpb248L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iTGluZV8xOSI+CiAgICAgICAgPGxpbmUgeDE9IjEwOTEuMTE2NSIgeTE9IjY0Mi4yMzciIHgyPSIxMDkwLjQ0ODgiIHkyPSI2ODMuMTAxMyIgbWFya2VyLWVuZD0idXJsKCNGaWxsZWRBcnJvd19NYXJrZXIpIiBzdHJva2U9IndoaXRlIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJMaW5lXzIwIj4KICAgICAgICA8bGluZSB4MT0iMTI1OS4yMDQyIiB5MT0iNjkzIiB4Mj0iMTI1OS44NDMyIiB5Mj0iNjUyLjEzNTgiIG1hcmtlci1lbmQ9InVybCgjRmlsbGVkQXJyb3dfTWFya2VyKSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjEiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iTGluZV8yMSI+CiAgICAgICAgPGxpbmUgeDE9IjEyNjAuMTg5IiB5MT0iNjE3LjgxNTMiIHgyPSIxMjYwLjE4OSIgeTI9IjU5NC4xMTA4NCIgbWFya2VyLWVuZD0idXJsKCNGaWxsZWRBcnJvd19NYXJrZXIpIiBzdHJva2U9IndoaXRlIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJMaW5lXzIyIj4KICAgICAgICA8bGluZSB4MT0iMTI2MC4xODkiIHkxPSI1NTkuNzg5MTYiIHgyPSIxMjYwLjE4OSIgeTI9IjUzNi4wODQ3IiBtYXJrZXItZW5kPSJ1cmwoI0ZpbGxlZEFycm93X01hcmtlcikiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkxpbmVfMjMiPgogICAgICAgIDxsaW5lIHgxPSIxMDkxLjMxNiIgeTE9IjUyNi4xODQ3IiB4Mj0iMTA5MS4zMTYiIHkyPSI1NDkuODg5MTYiIG1hcmtlci1lbmQ9InVybCgjRmlsbGVkQXJyb3dfTWFya2VyKSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjEiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iTGluZV8yNCI+CiAgICAgICAgPGxpbmUgeDE9IjEwOTEuMzE2IiB5MT0iNTg0LjIxMDg0IiB4Mj0iMTA5MS4zMTYiIHkyPSI2MDcuOTE1MyIgbWFya2VyLWVuZD0idXJsKCNGaWxsZWRBcnJvd19NYXJrZXIpIiBzdHJva2U9IndoaXRlIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzI1Ij4KICAgICAgICA8cmVjdCB4PSIxMjE5LjkzOSIgeT0iMzg5IiB3aWR0aD0iODAuNSIgaGVpZ2h0PSI2MiIgZmlsbD0iI2ZmOWMzMCIvPgogICAgICAgIDxyZWN0IHg9IjEyMTkuOTM5IiB5PSIzODkiIHdpZHRoPSI4MC41IiBoZWlnaHQ9IjYyIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMjQuOTM5IDQxMC43NzYpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNDAwIiBmaWxsPSJibGFjayIgeD0iMTAuNDkiIHk9IjE1Ij5PdXRwdXQ8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iTGluZV8yNiI+CiAgICAgICAgPGxpbmUgeDE9IjEyNjAuMTg5IiB5MT0iNTAxLjc2MyIgeDI9IjEyNjAuMTg5IiB5Mj0iNDYwLjkiIG1hcmtlci1lbmQ9InVybCgjRmlsbGVkQXJyb3dfTWFya2VyKSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjEiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18yNyI+CiAgICAgICAgPHJlY3QgeD0iMTA1Ni4wMzA1IiB5PSI2OTMiIHdpZHRoPSI2Ny41IiBoZWlnaHQ9IjYyIiBmaWxsPSIjYzBjMGZmIi8+CiAgICAgICAgPHJlY3QgeD0iMTA1Ni4wMzA1IiB5PSI2OTMiIHdpZHRoPSI2Ny41IiBoZWlnaHQ9IjYyIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNjEuMDMwNSA3MTQuNzc2KSIgZmlsbD0iYmxhY2siPgogICAgICAgICAgPHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjQwMCIgZmlsbD0iYmxhY2siIHg9IjEyLjUzNCIgeT0iMTUiPkFyZ3M8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18yOSI+CiAgICAgICAgPHJlY3QgeD0iMTIxOC40Njk1IiB5PSI2OTMiIHdpZHRoPSI4MC41IiBoZWlnaHQ9IjYyIiBmaWxsPSIjZmY5YzMwIi8+CiAgICAgICAgPHJlY3QgeD0iMTIxOC40Njk1IiB5PSI2OTMiIHdpZHRoPSI4MC41IiBoZWlnaHQ9IjYyIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMjMuNDY5NSA3MTQuNzc2KSIgZmlsbD0iYmxhY2siPgogICAgICAgICAgPHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjQwMCIgZmlsbD0iYmxhY2siIHg9IjEwLjQ5IiB5PSIxNSI+T3V0cHV0PC90c3Bhbj4KICAgICAgICA8L3RleHQ+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkxpbmVfMzEiPgogICAgICAgIDxsaW5lIHgxPSIxMTE1LjMwNDUiIHkxPSI3NTUiIHgyPSIxMTUzLjUxNTkiIHkyPSI4MDEuNDA5NTUiIG1hcmtlci1lbmQ9InVybCgjRmlsbGVkQXJyb3dfTWFya2VyKSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjEiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iTGluZV8zMiI+CiAgICAgICAgPGxpbmUgeDE9IjExOTMuODgwNSIgeTE9IjgwOS4wNTIzIiB4Mj0iMTIyOS4wODQ4IiB5Mj0iNzYyLjg3MzEiIG1hcmtlci1lbmQ9InVybCgjRmlsbGVkQXJyb3dfTWFya2VyKSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjEiLz4KICAgICAgPC9nPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==" width="372" height="465"></p></div><p>Here is the same description as code:</p><pre><code class="language-clojure">; register in a single call
(p.plugin/register
  [plugin-a
   plugin-b
   plugin-c])

; in many calls, same result:
(-&gt; {}
    (p.plugin/register plugin-a)
    (p.plugin/register plugin-b)
    (p.plugin/register plugin-c))
</code></pre><p>Plugins on top will enter first and leave last.</p><admonition type="tip"><p>You can view the plugin order in the attribute <code>::p.plugin/plugin-order</code> attribute in
your environment.</p></admonition><p>A plugin can halt the execution of the posterior plugins (and the original operation
itself). This happens when the plugin returns some data without calling the original
function given on the wrapper.</p><p>For example, if <code>plugin-b</code> halts execution (like our protected attributes plugin does)
the stack stops there and goes back up. The following image illustrates this case:</p><div class="pathom-diagram"><p>  <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHZlcnNpb249IjEuMSIgeG1sbnM6eGw9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9Ijk0NCAzODggMzcyIDQ2NSIgd2lkdGg9IjM3MiIgaGVpZ2h0PSI0NjUiPgogIDxkZWZzPgogICAgPGZvbnQtZmFjZSBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIHBhbm9zZS0xPSIyIDAgOCAzIDAgMCAwIDkgMCA0IiB1bml0cy1wZXItZW09IjEwMDAiIHVuZGVybGluZS1wb3NpdGlvbj0iLTEwMCIgdW5kZXJsaW5lLXRoaWNrbmVzcz0iNTAiIHNsb3BlPSIwIiB4LWhlaWdodD0iNTE3IiBjYXAtaGVpZ2h0PSI3MTQiIGFzY2VudD0iOTc1LjAwNjEiIGRlc2NlbnQ9Ii0yMTYuOTk1MjQiIGZvbnQtd2VpZ2h0PSI3MDAiPgogICAgICA8Zm9udC1mYWNlLXNyYz4KICAgICAgICA8Zm9udC1mYWNlLW5hbWUgbmFtZT0iSGVsdmV0aWNhTmV1ZS1Cb2xkIi8+CiAgICAgIDwvZm9udC1mYWNlLXNyYz4KICAgIDwvZm9udC1mYWNlPgogICAgPGZvbnQtZmFjZSBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIHBhbm9zZS0xPSIyIDAgNSAzIDAgMCAwIDIgMCA0IiB1bml0cy1wZXItZW09IjEwMDAiIHVuZGVybGluZS1wb3NpdGlvbj0iLTEwMCIgdW5kZXJsaW5lLXRoaWNrbmVzcz0iNTAiIHNsb3BlPSIwIiB4LWhlaWdodD0iNTE3IiBjYXAtaGVpZ2h0PSI3MTQiIGFzY2VudD0iOTUxLjk5NTgiIGRlc2NlbnQ9Ii0yMTIuOTk3NDQiIGZvbnQtd2VpZ2h0PSI0MDAiPgogICAgICA8Zm9udC1mYWNlLXNyYz4KICAgICAgICA8Zm9udC1mYWNlLW5hbWUgbmFtZT0iSGVsdmV0aWNhTmV1ZSIvPgogICAgICA8L2ZvbnQtZmFjZS1zcmM+CiAgICA8L2ZvbnQtZmFjZT4KICAgIDxtYXJrZXIgb3JpZW50PSJhdXRvIiBvdmVyZmxvdz0idmlzaWJsZSIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIiBpZD0iRmlsbGVkQXJyb3dfTWFya2VyIiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHZpZXdCb3g9Ii0xIC00IDEwIDgiIG1hcmtlcldpZHRoPSIxMCIgbWFya2VySGVpZ2h0PSI4IiBjb2xvcj0id2hpdGUiPgogICAgICA8Zz4KICAgICAgICA8cGF0aCBkPSJNIDggMCBMIDAgLTMgTCAwIDMgWiIgZmlsbD0iY3VycmVudENvbG9yIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgIDwvbWFya2VyPgogIDwvZGVmcz4KICA8bWV0YWRhdGE+IFByb2R1Y2VkIGJ5IE9tbmlHcmFmZmxlIDcuMTguMVxuMjAyMC0xMi0yOCAwMDo1NDoyMCArMDAwMDwvbWV0YWRhdGE+CiAgPGcgaWQ9IlBsdWdpbl9PcmRlcl8xIiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlLWRhc2hhcnJheT0ibm9uZSIgc3Ryb2tlLW9wYWNpdHk9IjEiPgogICAgPHRpdGxlPlBsdWdpbiBPcmRlciAxPC90aXRsZT4KICAgIDxnIGlkPSJQbHVnaW5fT3JkZXJfMV9MYXllcl8xIj4KICAgICAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPgogICAgICA8ZyBpZD0iR3JhcGhpY18yIj4KICAgICAgICA8cmVjdCB4PSIxMDQwIiB5PSI0OTUuNTI3OTUiIHdpZHRoPSIyNzUiIGhlaWdodD0iMzYuODkxNzgiIGZpbGw9IiM5OTk1MGEiLz4KICAgICAgICA8cmVjdCB4PSIxMDQwIiB5PSI0OTUuNTI3OTUiIHdpZHRoPSIyNzUiIGhlaWdodD0iMzYuODkxNzgiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfNSI+CiAgICAgICAgPHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTQ1LjE4IDUwNC4yNDE4KSIgZmlsbD0id2hpdGUiPgogICAgICAgICAgPHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjcwMCIgZmlsbD0id2hpdGUiIHg9IjAiIHk9IjE2Ij5QbHVnaW4gQTwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzYiPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNzIuNSA1MDQuNzQ5ODQpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNDAwIiBmaWxsPSJibGFjayIgeD0iNzEwNTQyN2UtMTkiIHk9IjE1Ij5FbnRlcjwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzciPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMzguODUzIDUwNC43NDk4NCkiIGZpbGw9ImJsYWNrIj4KICAgICAgICAgIDx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZpbGw9ImJsYWNrIiB4PSIwIiB5PSIxNSI+TGVhdmU8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY184Ij4KICAgICAgICA8cmVjdCB4PSIxMDU3LjUiIHk9IjM4OSIgd2lkdGg9IjY3LjUiIGhlaWdodD0iNjIiIGZpbGw9IiNjMGMwZmYiLz4KICAgICAgICA8cmVjdCB4PSIxMDU3LjUiIHk9IjM4OSIgd2lkdGg9IjY3LjUiIGhlaWdodD0iNjIiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgICAgPHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA2Mi41IDQxMC43NzYpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNDAwIiBmaWxsPSJibGFjayIgeD0iMTIuNTM0IiB5PSIxNSI+QXJnczwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJMaW5lXzkiPgogICAgICAgIDxsaW5lIHgxPSIxMDkxLjI3MTgiIHkxPSI0NTEiIHgyPSIxMDkxLjMwMDUiIHkyPSI0OTEuODYzIiBtYXJrZXItZW5kPSJ1cmwoI0ZpbGxlZEFycm93X01hcmtlcikiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTAiPgogICAgICAgIDxyZWN0IHg9IjEwNDAiIHk9IjU1My41NTQxIiB3aWR0aD0iMjc1IiBoZWlnaHQ9IjM2Ljg5MTc4IiBmaWxsPSIjOTk5NTBhIi8+CiAgICAgICAgPHJlY3QgeD0iMTA0MCIgeT0iNTUzLjU1NDEiIHdpZHRoPSIyNzUiIGhlaWdodD0iMzYuODkxNzgiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTEiPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0NS4wMjggNTYyLjI2Nzk0KSIgZmlsbD0id2hpdGUiPgogICAgICAgICAgPHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjcwMCIgZmlsbD0id2hpdGUiIHg9IjAiIHk9IjE2Ij5QbHVnaW4gQjwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzEyIj4KICAgICAgICA8dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDcyLjUgNTYyLjc3NikiIGZpbGw9ImJsYWNrIj4KICAgICAgICAgIDx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZpbGw9ImJsYWNrIiB4PSI3MTA1NDI3ZS0xOSIgeT0iMTUiPkVudGVyPC90c3Bhbj4KICAgICAgICA8L3RleHQ+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTMiPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMzguODUzIDU2Mi43NzYpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNDAwIiBmaWxsPSJibGFjayIgeD0iMCIgeT0iMTUiPkxlYXZlPC90c3Bhbj4KICAgICAgICA8L3RleHQ+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTQiPgogICAgICAgIDxyZWN0IHg9IjEwNDAiIHk9IjYxMS41ODAzIiB3aWR0aD0iMjc1IiBoZWlnaHQ9IjM2Ljg5MTc4IiBmaWxsPSIjOTk5Ii8+CiAgICAgICAgPHJlY3QgeD0iMTA0MCIgeT0iNjExLjU4MDMiIHdpZHRoPSIyNzUiIGhlaWdodD0iMzYuODkxNzgiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTUiPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0NC43MzIgNjIwLjI5NDEpIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNzAwIiBmaWxsPSJ3aGl0ZSIgeD0iMTkxODQ2NTRlLTIwIiB5PSIxNiI+UGx1Z2luIEM8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xNiI+CiAgICAgICAgPHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA3Mi41IDYyMC44MDIxNikiIGZpbGw9ImJsYWNrIj4KICAgICAgICAgIDx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZpbGw9ImJsYWNrIiB4PSI3MTA1NDI3ZS0xOSIgeT0iMTUiPkVudGVyPC90c3Bhbj4KICAgICAgICA8L3RleHQ+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMTciPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMzguODUzIDYyMC44MDIxNikiIGZpbGw9ImJsYWNrIj4KICAgICAgICAgIDx0c3BhbiBmb250LWZhbWlseT0iSGVsdmV0aWNhIE5ldWUiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZpbGw9ImJsYWNrIiB4PSIwIiB5PSIxNSI+TGVhdmU8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18xOCI+CiAgICAgICAgPHJlY3QgeD0iMTA0MCIgeT0iODA5LjA1MjMiIHdpZHRoPSIyNzUiIGhlaWdodD0iNDIuOTc0IiBmaWxsPSIjOTk5Ii8+CiAgICAgICAgPHJlY3QgeD0iMTA0MCIgeT0iODA5LjA1MjMiIHdpZHRoPSIyNzUiIGhlaWdodD0iNDIuOTc0IiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNDUgODIxLjMxNTMpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNDAwIiBmaWxsPSJibGFjayIgeD0iMTAxLjM4IiB5PSIxNSI+RnVuY3Rpb248L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iTGluZV8yMiI+CiAgICAgICAgPGxpbmUgeDE9IjEyNjAuMTg5IiB5MT0iNTU5Ljc4OTE2IiB4Mj0iMTI2MC4xODkiIHkyPSI1MzYuMDg0NyIgbWFya2VyLWVuZD0idXJsKCNGaWxsZWRBcnJvd19NYXJrZXIpIiBzdHJva2U9IndoaXRlIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJMaW5lXzIzIj4KICAgICAgICA8bGluZSB4MT0iMTA5MS4zMTYiIHkxPSI1MjYuMTg0NyIgeDI9IjEwOTEuMzE2IiB5Mj0iNTQ5Ljg4OTE2IiBtYXJrZXItZW5kPSJ1cmwoI0ZpbGxlZEFycm93X01hcmtlcikiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkxpbmVfMjQiPgogICAgICAgIDxsaW5lIHgxPSIxMTE1LjEzMiIgeTE9IjU3MiIgeDI9IjEyMzAuMjgyMyIgeTI9IjU3MiIgbWFya2VyLWVuZD0idXJsKCNGaWxsZWRBcnJvd19NYXJrZXIpIiBzdHJva2U9IndoaXRlIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcmFwaGljXzI1Ij4KICAgICAgICA8cmVjdCB4PSIxMjE5LjkzOSIgeT0iMzg5IiB3aWR0aD0iODAuNSIgaGVpZ2h0PSI2MiIgZmlsbD0iI2ZmOWMzMCIvPgogICAgICAgIDxyZWN0IHg9IjEyMTkuOTM5IiB5PSIzODkiIHdpZHRoPSI4MC41IiBoZWlnaHQ9IjYyIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMjQuOTM5IDQxMC43NzYpIiBmaWxsPSJibGFjayI+CiAgICAgICAgICA8dHNwYW4gZm9udC1mYW1pbHk9IkhlbHZldGljYSBOZXVlIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNDAwIiBmaWxsPSJibGFjayIgeD0iMTAuNDkiIHk9IjE1Ij5PdXRwdXQ8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iTGluZV8yNiI+CiAgICAgICAgPGxpbmUgeDE9IjEyNjAuMTg5IiB5MT0iNTAxLjc2MyIgeDI9IjEyNjAuMTg5IiB5Mj0iNDYwLjkiIG1hcmtlci1lbmQ9InVybCgjRmlsbGVkQXJyb3dfTWFya2VyKSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjEiLz4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18yNyI+CiAgICAgICAgPHJlY3QgeD0iMTA1Ni4wMzA1IiB5PSI2OTMiIHdpZHRoPSI2Ny41IiBoZWlnaHQ9IjYyIiBmaWxsPSIjOTk5Ii8+CiAgICAgICAgPHJlY3QgeD0iMTA1Ni4wMzA1IiB5PSI2OTMiIHdpZHRoPSI2Ny41IiBoZWlnaHQ9IjYyIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNjEuMDMwNSA3MTQuNzc2KSIgZmlsbD0iYmxhY2siPgogICAgICAgICAgPHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjQwMCIgZmlsbD0iYmxhY2siIHg9IjEyLjUzNCIgeT0iMTUiPkFyZ3M8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgICA8ZyBpZD0iR3JhcGhpY18yOSI+CiAgICAgICAgPHJlY3QgeD0iMTIxOC40Njk1IiB5PSI2OTMiIHdpZHRoPSI4MC41IiBoZWlnaHQ9IjYyIiBmaWxsPSIjOTk5Ii8+CiAgICAgICAgPHJlY3QgeD0iMTIxOC40Njk1IiB5PSI2OTMiIHdpZHRoPSI4MC41IiBoZWlnaHQ9IjYyIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMjMuNDY5NSA3MTQuNzc2KSIgZmlsbD0iYmxhY2siPgogICAgICAgICAgPHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjQwMCIgZmlsbD0iYmxhY2siIHg9IjEwLjQ5IiB5PSIxNSI+T3V0cHV0PC90c3Bhbj4KICAgICAgICA8L3RleHQ+CiAgICAgIDwvZz4KICAgICAgPGcgaWQ9IkdyYXBoaWNfMzMiPgogICAgICAgIDxyZWN0IHg9IjExNDYuMzAxMiIgeT0iNTU3Ljc3NiIgd2lkdGg9IjQ0LjA4IiBoZWlnaHQ9IjI4LjQ0Nzk5OCIgZmlsbD0iIzVmNWMwNyIvPgogICAgICAgIDx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDExNTEuMzAxMiA1NjIuNzc2KSIgZmlsbD0id2hpdGUiPgogICAgICAgICAgPHRzcGFuIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EgTmV1ZSIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjQwMCIgZmlsbD0id2hpdGUiIHg9Ijg3Mzk2NzZlLTE5IiB5PSIxNSI+aGFsdHM8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgICAgPC9nPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==" width="372" height="465"></p></div><p>Consider this when deciding the order of plugins.</p><admonition type="important"><p>When you use <code>p.plugin/register</code>, Pathom creates specific lists for each plugin type. This way, it only has to iterate over plugins of that extension type.</p></admonition><h2 id="extension-points">Extension points</h2><p>Here you can see all the extension points available in Pathom.</p><h3 id="runner-extensions">Runner Extensions</h3><p>Extensions available for the runner process of Pathom at <code>com.wsscode.pathom3.connect.runner</code>
namespace.</p><h4 id="pcrwrap-resolve"><code>::pcr/wrap-resolve</code></h4><p>Wrap the call of a resolver. Note in the case of a batch resolver, input is going to be
a sequence.</p><pre><code class="language-clojure">(defn sample-resolve-wrapper [resolve]
  (fn [env input]
    (resolve env input)))
</code></pre><h4 id="pcrwrap-mutate"><code>::pcr/wrap-mutate</code></h4><p>Wrap the call of a mutation.</p><pre><code class="language-clojure">(defn sample-mutate-wrapper [mutate]
  (fn [env ast]
    (mutate env ast)))
</code></pre><h4 id="perrorwrap-attribute-error"><code>::p.error/wrap-attribute-error</code></h4><p>Wrap the error data, allowing you to modify it.</p><pre><code class="language-clojure">(defn sample-attribute-error-wrapper [attr-error]
  (fn [entity k]
    (let [err (attr-error entity k)]
      ; will return just the error cause
      (:com.wsscode.pathom3.error/cause err))))
</code></pre><h4 id="pcrwrap-resolver-error"><code>::pcr/wrap-resolver-error</code></h4><p>Wrap the operation that attaches an error to a node.</p><pre><code class="language-clojure">(defn sample-resolver-error-wrapper [resolver-error]
  (fn [env ast error]
    (let [e (resolver-error env ast error)]
      ; you may modify the error here
      e)))
</code></pre><h4 id="pcrwrap-batch-resolver-error"><code>::pcr/wrap-batch-resolver-error</code></h4><p>Wrap batch errors</p><pre><code class="language-clojure">(defn sample-batch-resolver-error-wrapper [_]
  (fn [env [batch-op batch-items] e]
    ; report error
    ))
</code></pre><h4 id="pcrwrap-mutation-error"><code>::pcr/wrap-mutation-error</code></h4><p>Use this to get notified when mutation errors happen.</p><pre><code class="language-clojure">(defn sample-mutation-error-wrapper [mutation-error]
  (fn [env ast error]
    (let [e (mutation-error env ast error)]
      ; you may modify the error here
      e)))
</code></pre><h4 id="pcrwrap-merge-attribute"><code>::pcr/wrap-merge-attribute</code></h4><p>Wrap the operation of merging new data in the entity. This is an important point. You
can control how sub-processes occur here. The source original is an <code>assoc</code> like operation.</p><pre><code class="language-clojure">(defn sample-merge-attribute-wrapper [original]
  (fn [env out k v]
    (original env out k v)))
</code></pre><h4 id="pcrwrap-entity-ready"><code>::pcr/wrap-entity-ready!</code></h4><p>This runs only once per entity, if you want to do any kind of post-process that you
expect one entity to be ready.</p><pre><code class="language-clojure">(defn sample-run-graph-wrapper [original]
  (fn [env]
    (original env)))
</code></pre><h4 id="pcrwrap-run-graph"><code>::pcr/wrap-run-graph!</code></h4><p>Wrap the operation of running a graph. Note for a given transaction, there may be many
graphs to run. Each entity (each map in the result) is potentially an entity and may
have its own graph.</p><p>Also note this may run multiple times for the same entity, for each &quot;batch hit&quot; it
does.</p><pre><code class="language-clojure">(defn sample-run-graph-wrapper [original]
  (fn [env ast-or-graph entity-tree*]
    (original env ast-or-graph entity-tree*)))
</code></pre><h4 id="pcrwrap-root-run-graph"><code>::pcr/wrap-root-run-graph!</code></h4><p>Like the previous, but only runs at the root graph.</p><h3 id="eql-output">EQL Output</h3><h4 id="pfeqlwrap-map-select-entry"><code>::pf.eql/wrap-map-select-entry</code></h4><p>This is the one we used for the initial demo. Controls how outputs get masked out in
the post-processing of the EQL output.</p><pre><code class="language-clojure">(defn sample-map-select-entry-wrapper [original]
  (fn [env source ast]
    (original env source ast)))
</code></pre><h4 id="peqlwrap-process-ast"><code>::p.eql/wrap-process-ast</code></h4><p>This wraps a call to <code>process-ast</code> in the EQL interface.</p><pre><code class="language-clojure">(defn sample-process-ast-wrapper [process]
  (fn [env ast]
    (process env ast)))
</code></pre><p>When the query is triggered using <code>process</code>, you also get the query as <code>::pcr/root-query</code>
in the environment.</p><p>If you don&#x27;t see this value it means <code>process-ast</code> was called directly. To get the query
in this case use <code>eql/ast-&gt;query</code> to generate the query from the AST.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/wilkerlucio/pathom3-docs/edit/master/docs/plugins.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/error-handling"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Error Handling</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/built-in-plugins"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Built-in Plugins</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-wrapping-model-of-plugins" class="table-of-contents__link toc-highlight">The wrapping model of plugins</a><ul><li><a href="#define-the-wrapper-fn" class="table-of-contents__link toc-highlight">Define the wrapper fn</a></li><li><a href="#define-the-plugin" class="table-of-contents__link toc-highlight">Define the plugin</a></li></ul></li><li><a href="#adding-plugins" class="table-of-contents__link toc-highlight">Adding plugins</a><ul><li><a href="#plugin-order" class="table-of-contents__link toc-highlight">Plugin order</a></li></ul></li><li><a href="#extension-points" class="table-of-contents__link toc-highlight">Extension points</a><ul><li><a href="#runner-extensions" class="table-of-contents__link toc-highlight">Runner Extensions</a></li><li><a href="#eql-output" class="table-of-contents__link toc-highlight">EQL Output</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Presentations</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.youtube.com/watch?v=YaHiff2vZ_o" target="_blank" rel="noopener noreferrer" class="footer__link-item">Data Navigation with Pathom 3<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=IS3i3DTUnAI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Conj 2019 - The Maximal Graph<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=yyVKf2U8YVg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Conj 2018 - Scaling Full Stack Applications<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=r3zywlNflJI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dutch Clojure Days 2018 - Clojure Graph APIs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://clojurians.slack.com/messages/pathom/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright  2024 Wilker Lucio</div></div></div></footer></div>
<script src="/assets/js/runtime~main.7be6ae2a.js"></script>
<script src="/assets/js/main.670c6fc5.js"></script>
</body>
</html>